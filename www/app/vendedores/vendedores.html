<ion-view view-title="Vendedores">
    <ion-content>
        <div class="bar bar-subheader bar-stable static text-center">
            <strong class="title">Listado de vendedores</strong>
        </div>
        <div class="im-wrapper">
            <div class="list">
                <div class="row">
                    <div class="item item-input item-select col-34">
                        <div class="input-label">Sede</div>
                        <select ng-model="vm.vendedor.sede_id" ng-options="sede.id as sede.nombre for sede in vm.sedes"></select>
                    </div>
                    <div class="item item-input item-select col-33">
                        <div class="input-label">Usuario</div>
                        <select ng-model="vm.vendedor.user_id" ng-options="user.id as user.username for user in vm.users"></select>
                    </div>
                    <div class="item col-33">
                        <button id="fab" class="button button-balanced button-fab" ng-click="vm.confirmar()" ng-disabled="!vm.vendedor.user_id || !vm.vendedor.sede_id">
                            <i class="icon ion-plus"></i>
                        </button>
                    </div>
                </div>
                <br />
                <div class="item row responsive-sm">
                    <pre class="col col-20 centered-text">Vendedor</pre>
                    <pre class="col col-30 centered-text">Establecimiento</pre>
                    <pre class="col col-30 centered-text">Sede</pre>
                    <pre class="col col-20 centered-text">Acciones</pre>
                </div>
                <div class="item item-divider"></div>
                <div class="item item-button-right row responsive-sm" ng-repeat="item in vm.vendedores track by $index">
                    <pre class="col col-20 centered-text">{{item.user.username}}</pre>
                    <pre class="col col-30 centered-text">{{item.sede.establecimiento.nombre}}</pre>
                    <pre class="col col-30 centered-text">{{item.sede.nombre}}</pre>
                    <div class="col col-20 centered-text">
                        <button title="Desactivar" class="button-icon ink" ng-click="vm.desactivar(item)">
                            <i class="ion-close-round icon"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <br />
        <br />
        <br />
        <br />
    </ion-content>
</ion-view>